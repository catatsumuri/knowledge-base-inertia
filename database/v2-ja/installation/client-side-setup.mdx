---
title: クライアントサイドのセットアップ
---

[サーバーサイドフレームワークの設定](/v2/installation/server-side-setup)が完了したら、次にクライアントサイドフレームワークをセットアップする必要があります。Inertia は現在、React、Vue、Svelte をサポートしています。

<Card
    icon="laravel"
    title="Laravel スターターキット"
    href="https://laravel.com/docs/starter-kits"
    arrow="true"
    cta="構築を開始"
>
Laravel のスターターキットは、新しい Inertia アプリケーション向けに、すぐに使えるスキャフォールディングを提供します。

これらのスターターキットは、Laravel と Vue または React を使用して新しい Inertia プロジェクトを始めるための、最速の方法です。ただし、Inertia を手動でアプリケーションにインストールしたい場合は、以下のドキュメントを参照してください。
</Card>

## インストール

<Steps>
    <Step title="依存関係をインストール">
        まず、使用するフレームワークに対応した Inertia のクライアントサイドアダプターをインストールします。

        <CodeGroup>
        ```bash Vue icon="vuejs"
        npm install @inertiajs/vue3
        ```

        ```bash React icon="react"
        npm install @inertiajs/react
        ```

        ```bash Svelte icon="s"
        npm install @inertiajs/svelte
        ```
        </CodeGroup>
    </Step>

    <Step title="Inertia アプリを初期化">
        次に、メインの JavaScript ファイルを更新して Inertia アプリを起動します。これを行うには、ベースとなる Inertia コンポーネントでクライアントサイドフレームワークを初期化します。

        <CodeGroup>
        ```js Vue icon="vuejs"
        import { createApp, h } from 'vue'
        import { createInertiaApp } from '@inertiajs/vue3'

        createInertiaApp({
            resolve: name => {
                const pages = import.meta.glob('./Pages/**/*.vue', { eager: true })
                return pages[`./Pages/${name}.vue`]
            },
            setup({ el, App, props, plugin }) {
                createApp({ render: () => h(App, props) })
                    .use(plugin)
                    .mount(el)
            },
        })
        ```

        ```jsx React icon="react"
        import { createInertiaApp } from '@inertiajs/react'
        import { createRoot } from 'react-dom/client'

        createInertiaApp({
            resolve: name => {
                const pages = import.meta.glob('./Pages/**/*.jsx', { eager: true })
                return pages[`./Pages/${name}.jsx`]
            },
            setup({ el, App, props }) {
                createRoot(el).render(<App {...props} />)
            },
        })
        ```

        ```js Svelte 4 icon="s"
        import { createInertiaApp } from '@inertiajs/svelte'

        createInertiaApp({
            resolve: name => {
                const pages = import.meta.glob('./Pages/**/*.svelte', { eager: true })
                return pages[`./Pages/${name}.svelte`]
            },
            setup({ el, App, props }) {
                new App({ target: el, props })
            },
        })
        ```

        ```js Svelte 5 icon="s"
        import { createInertiaApp } from '@inertiajs/svelte'
        import { mount } from 'svelte'

        createInertiaApp({
            resolve: name => {
                const pages = import.meta.glob('./Pages/**/*.svelte', { eager: true })
                return pages[`./Pages/${name}.svelte`]
            },
            setup({ el, App, props }) {
                mount(App, { target: el, props })
            },
        })
        ```
        </CodeGroup>

        `setup` コールバックには、ルートとなる Inertia の `App` コンポーネントを含め、クライアントサイドフレームワークを初期化するために必要なすべての情報が渡されます。
    </Step>
</Steps>

## デフォルト設定の構成

`createInertiaApp()` に `defaults` オブジェクトを渡すことで、さまざまな機能のデフォルト設定を構成できます。すべてのキーに対してデフォルトを指定する必要はなく、調整したいものだけを指定すれば問題ありません。

```js
createInertiaApp({
    // ...
    defaults: {
        form: {
            recentlySuccessfulDuration: 5000,
        },
        prefetch: {
            cacheFor: "1m",
            hoverDelay: 150,
        },
        visitOptions: (href, options) => {
            return {
                headers: {
                    ...options.headers,
                    "X-Custom-Header": "value",
                },
            };
        },
    },
});
```

`visitOptions` コールバックは、対象の URL と現在の訪問オプションを受け取り、上書きしたい任意のオプションを含むオブジェクトを返す必要があります。利用可能な設定オプションの詳細については、[フォーム](/v2/the-basics/forms#form-errors)、[プリフェッチ](/v2/data-props/prefetching)、および [手動訪問](/v2/the-basics/manual-visits#global-visit-options) のドキュメントを参照してください。

### 実行時に設定を更新する

エクスポートされている `config` インスタンスを使用して、実行時に設定値を更新することもできます。これは、ユーザーの設定やアプリケーションの状態に基づいて設定を調整する必要がある場合に特に便利です。

<CodeGroup>

```js Vue icon="vuejs"
import { config } from '@inertiajs/vue3'

// ドット記法を使用して単一の値を設定...
config.set('form.recentlySuccessfulDuration', 1000)
config.set('prefetch.cacheFor', '5m')

// 複数の値を一度に設定...
config.set({
    'form.recentlySuccessfulDuration': 1000,
    'prefetch.cacheFor': '5m',
})
```

```js React icon="react"
import { config } from '@inertiajs/react'

// ドット記法を使用して単一の値を設定...
config.set('form.recentlySuccessfulDuration', 1000)
config.set('prefetch.cacheFor', '5m')

// 複数の値を一度に設定...
config.set({
    'form.recentlySuccessfulDuration': 1000,
    'prefetch.cacheFor': '5m',
})

// 設定値を取得...
const duration = config.get('form.recentlySuccessfulDuration')
```

```js Svelte icon="s"
import { config } from '@inertiajs/svelte'

// ドット記法を使用して単一の値を設定...
config.set('form.recentlySuccessfulDuration', 1000)
config.set('prefetch.cacheFor', '5m')

// 複数の値を一度に設定...
config.set({
    'form.recentlySuccessfulDuration': 1000,
    'prefetch.cacheFor': '5m',
})

// 設定値を取得...
const duration = config.get('form.recentlySuccessfulDuration')
```

</CodeGroup>

## コンポーネントの解決

`resolve` コールバックは、Inertia にページコンポーネントをどのように読み込むかを指示します。ページ名（文字列）を受け取り、ページコンポーネントのモジュールを返します。このコールバックの実装方法は、使用しているバンドラー（Vite または Webpack）によって異なります。

<CodeGroup>

```js Vue icon="vuejs"
// Vite
resolve: name => {
    const pages = import.meta.glob('./Pages/**/*.vue', { eager: true })
    return pages[`./Pages/${name}.vue`]
},

// Webpack
resolve: name => require(`./Pages/${name}`),
```

```js React icon="react"
// Vite
resolve: name => {
    const pages = import.meta.glob('./Pages/**/*.jsx', { eager: true })
    return pages[`./Pages/${name}.jsx`]
},

// Webpack
resolve: name => require(`./Pages/${name}`),
```

```js Svelte icon="s"
// Vite
resolve: name => {
    const pages = import.meta.glob('./Pages/**/*.svelte', { eager: true })
    return pages[`./Pages/${name}.svelte`]
},

// Webpack
resolve: name => require(`./Pages/${name}.svelte`),
```

</CodeGroup>

デフォルトでは、コンポーネントをイager ロード（即時読み込み）することを推奨しています。これにより、単一の JavaScript バンドルが生成されます。ただし、コンポーネントを遅延読み込みしたい場合は、[コード分割](/v2/advanced/code-splitting) のドキュメントを参照してください。

## ルート要素の定義

デフォルトでは、Inertia はアプリケーションのルートテンプレートに `id` が `app` のルート要素が存在すると想定しています。アプリケーションのルート要素が異なる `id` を持つ場合は、`id` プロパティを使用して指定できます。

```js
createInertiaApp({
    id: 'my-app',
    // ...
})
```

ルート要素の `id` を変更した場合は、[サーバーサイド](/v2/installation/server-side-setup#root-template) でも必ず更新してください。

## ページデータ用の script 要素

デフォルトでは、Inertia は初期ページデータをルート要素の `data-page` 属性に保存します。代わりに `<script type="application/json">` 要素を使用するように Inertia を設定することもでき、これはわずかに高速で、ブラウザの開発者ツールでも確認しやすくなります。

```js
createInertiaApp({
    // ...
    defaults: {
        future: {
            useScriptElementForInitialPage: true,
        },
    },
})
```

サーバーサイドレンダリングを使用している場合は、[SSR のエントリーポイント](/v2/advanced/server-side-rendering#add-server-entry-point) も必ず更新してください。Laravel を使用している場合は、`@inertia` Blade ディレクティブが script 要素を出力するように、`inertia.use_script_element_for_initial_page` の設定値も `true` に設定してください。
