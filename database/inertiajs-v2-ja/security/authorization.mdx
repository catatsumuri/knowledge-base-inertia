---
title: 認可
---

Inertia を使用する場合、認可はアプリケーションの認可ポリシーでサーバーサイドにて処理するのが最適です。しかし、フレームワークのサーバーサイド用ヘルパーにアクセスできないため、Inertia のページコンポーネント内からどのように認可ポリシーに対するチェックを行えばよいのか疑問に思うかもしれません。

この問題を解決する最もシンプルな方法は、認可チェックの結果を props としてページコンポーネントに渡すことです。

```php
class UsersController extends Controller
{
    public function index()
    {
        return Inertia::render('Users/Index', [
            'can' => [
                'create_user' => Auth::user()->can('create', User::class),
            ],
            'users' => User::all()->map(function ($user) {
                return [
                    'first_name' => $user->first_name,
                    'last_name' => $user->last_name,
                    'email' => $user->email,
                    'can' => [
                        'edit_user' => Auth::user()->can('edit', $user),
                    ]
                ];
            }),
        ]);
    }
}
```
